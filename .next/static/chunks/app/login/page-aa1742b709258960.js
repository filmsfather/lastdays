(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{17:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),n=t(2115),r=t(2663),l=t(2619),i=t.n(l);function o(){let[e,s]=(0,n.useState)({name:"",pin:""}),[t,l]=(0,n.useState)(!1),o=async s=>{s.preventDefault(),l(!0);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();t.success?(r.oR.success("로그인 성공!"),"admin"===t.user.role?window.location.href="/dashboard/admin":"teacher"===t.user.role?window.location.href="/dashboard/teacher":"student"===t.user.role?window.location.href="/dashboard/student":window.location.href="/"):r.oR.error(t.error||"로그인에 실패했습니다.")}catch(e){console.error("로그인 오류:",e),r.oR.error("로그인 중 오류가 발생했습니다.")}finally{l(!1)}},c=t=>{s({...e,[t.target.name]:t.target.value})};return(0,a.jsx)("div",{className:"min-h-screen gradient-bg flex items-center justify-center px-6",children:(0,a.jsxs)("div",{className:"w-full max-w-md animate-fade-in",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsxs)(i(),{href:"/",className:"inline-flex items-center space-x-2 mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"L"})}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"Last Days"})]})}),(0,a.jsxs)("div",{className:"card animate-slide-up",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"환영합니다"}),(0,a.jsx)("p",{className:"text-muted",children:"계정 정보를 입력하여 로그인하세요"})]}),(0,a.jsxs)("form",{onSubmit:o,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"label",children:"이름"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:c,required:!0,className:"input",placeholder:"이름을 입력하세요"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"pin",className:"label",children:"PIN 코드"}),(0,a.jsx)("input",{type:"password",id:"pin",name:"pin",value:e.pin,onChange:c,required:!0,className:"input",placeholder:"PIN 코드를 입력하세요"})]}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"w-full py-3 px-4 rounded-xl text-white font-semibold transition-all duration-200 ".concat(t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 shadow-soft hover:shadow-medium transform hover:-translate-y-0.5"),children:t?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"로그인 중..."})]}):"로그인"})]})]}),(0,a.jsxs)("div",{className:"text-center mt-8",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"문제가 있으시면 관리자에게 문의하세요"}),(0,a.jsxs)(i(),{href:"/",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700 font-medium mt-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"홈으로 돌아가기"]})]})]})})}},3984:(e,s,t)=>{Promise.resolve().then(t.bind(t,17))}},e=>{e.O(0,[2619,2663,8441,1255,7358],()=>e(e.s=3984)),_N_E=e.O()}]);