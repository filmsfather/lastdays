(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4241],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},1612:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5155),a=s(2115),n=s(63);function o(e){let{params:t}=e;console.log("SessionFeedbackPage component mounted");let s=(0,n.useRouter)(),[o,i]=(0,a.useState)(null),[u,c]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),[f,h]=(0,a.useState)(null);return(0,a.useEffect)(()=>{console.log("Feedback page useEffect started"),async function(){try{console.log("Starting fetchData function"),d(!0),h(null);let e=await fetch("/api/auth/me");if(!e.ok)return void s.push("/login");let r=await e.json();if(!r.success||!r.user)return void s.push("/login");c({id:r.user.id,role:r.user.role});let a=await t,n=parseInt(a.id);if(isNaN(n))return void s.push("/dashboard/student");let o=await fetch("/api/sessions/".concat(n,"/feedback-data"));if(!o.ok){if(401===o.status)return void s.push("/login");if(403===o.status)return void s.push("/dashboard/student/history");if(404===o.status)return void s.push("/dashboard/student/history");let e=await o.text();throw Error("세션 데이터 조회 실패: ".concat(e))}let u=await o.json();if(!u.success)throw Error(u.error||"세션 데이터 조회 실패");i(u.data)}catch(e){console.error("Feedback page error:",e),h(e instanceof Error?e.message:"알 수 없는 오류가 발생했습니다.")}finally{d(!1)}}()},[t,s]),(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"피드백 페이지 테스트"}),(0,r.jsxs)("p",{children:["세션 ID: ",JSON.stringify(t)]}),(0,r.jsxs)("p",{children:["로딩 상태: ",l?"로딩중":"완료"]}),(0,r.jsxs)("p",{children:["현재 사용자: ",u?JSON.stringify(u):"없음"]})]})})}},6761:(e,t,s)=>{Promise.resolve().then(s.bind(s,1612))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=6761)),_N_E=e.O()}]);